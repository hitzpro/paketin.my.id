---
// src/components/forms/Register-Form.astro
---

<form id="register-form" class="w-full max-w-[24rem] mx-auto flex flex-col gap-4">
  
  <div>
      <label for="reg-name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Nama Lengkap</label>
      <div class="flex">
          <span class="inline-flex items-center px-3 text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 border border-r-0 border-gray-300 dark:border-slate-600 rounded-l-lg">
             <i class="fa-solid fa-user w-4 h-4"></i>
          </span>
          <input type="text" id="reg-name" class="rounded-none rounded-r-lg bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500 block flex-1 min-w-0 w-full text-sm p-2.5 outline-none placeholder-gray-400 dark:placeholder-gray-500" placeholder="John Doe" required>
      </div>
  </div>

  <div>
      <label for="reg-email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Alamat Email</label>
      <div class="flex">
          <span class="inline-flex items-center px-3 text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 border border-r-0 border-gray-300 dark:border-slate-600 rounded-l-lg">
             <i class="fa-solid fa-envelope w-4 h-4"></i>
          </span>
          <input type="email" id="reg-email" class="rounded-none rounded-r-lg bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500 block flex-1 min-w-0 w-full text-sm p-2.5 outline-none placeholder-gray-400 dark:placeholder-gray-500" placeholder="nama@email.com" required>
      </div>
  </div>

  <div>
     <label for="reg-phone" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">No. Telepon</label>
     <div class="flex">
       <span class="inline-flex items-center px-3 text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 border border-r-0 border-gray-300 dark:border-slate-600 rounded-l-lg">
          <i class="fa-solid fa-phone w-4 h-4"></i>
       </span>
       <input type="tel" id="reg-phone" class="rounded-none rounded-r-lg bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500 block flex-1 min-w-0 w-full text-sm p-2.5 outline-none placeholder-gray-400 dark:placeholder-gray-500" placeholder="08123456789" required>
     </div>
  </div>

  <div>
     <label for="reg-password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Password</label>
     <div class="flex">
       <span class="inline-flex items-center px-3 text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 border border-r-0 border-gray-300 dark:border-slate-600 rounded-l-lg">
          <i class="fa-solid fa-lock w-4 h-4"></i>
       </span>
       <div class="relative w-full">
          <input type="password" id="reg-password" class="rounded-none rounded-r-lg bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500 block flex-1 min-w-0 w-full text-sm p-2.5 pr-10 outline-none placeholder-gray-400 dark:placeholder-gray-500" placeholder="••••••••" required>
          <button type="button" id="toggle-reg-password" class="absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 z-10">
            <i class="fa-solid fa-eye" id="eye-icon-pass"></i>
          </button>
       </div>
     </div>
  </div>

  <div>
     <label for="reg-confirm-password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Konfirmasi Password</label>
     <div class="flex">
       <span class="inline-flex items-center px-3 text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 border border-r-0 border-gray-300 dark:border-slate-600 rounded-l-lg">
           <i class="fa-solid fa-lock w-4 h-4"></i>
       </span>
       <div class="relative w-full">
          <input type="password" id="reg-confirm-password" class="rounded-none rounded-r-lg bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500 block flex-1 min-w-0 w-full text-sm p-2.5 pr-10 outline-none placeholder-gray-400 dark:placeholder-gray-500" placeholder="••••••••" required>
          <button type="button" id="toggle-reg-confirm" class="absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 z-10">
            <i class="fa-solid fa-eye" id="eye-icon-confirm"></i>
          </button>
       </div>
     </div>
  </div>

  <div class="pt-2">
      <button type="submit" id="btn-reg-submit" class="w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-3 text-center shadow-md transition-all active:scale-[0.98]">
        Daftar Sekarang
      </button>
      
      <button type="button" id="btn-reg-loading" class="w-full hidden text-white bg-blue-400 font-medium rounded-lg text-sm px-5 py-3 text-center cursor-not-allowed items-center justify-center gap-2" disabled>
          <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
          Mendaftar...
      </button>
  </div>

  <div class="text-center">
    <p class="text-sm text-slate-600 dark:text-slate-400">
      Sudah punya akun?
      <a href="/auth/login" class="font-bold text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors hover:underline">
        Masuk disini
      </a>
    </p>
  </div>
</form>

<script>
  import { initRegisterForm } from '../../scripts/auth/register.js';
  document.addEventListener('astro:page-load', () => {
      initRegisterForm();
  });
</script>