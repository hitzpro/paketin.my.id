---
// src/components/home/CategorySection.astro
interface Props {
  categories: {
    name: string;
    slug: string; // Wajib ada
    icon: string;
    color: string;
    text: string;
  }[];
}

const { categories } = Astro.props;
---

<section class="mb-10">
  <h3 class="text-base font-bold text-gray-800 dark:text-white mb-4 px-1">
    Layanan Kami
  </h3>

  <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
    {categories.map((cat) => (
      
      // PERBAIKAN UTAMA: Gunakan cat.slug untuk URL
      <a href={`/kategori/${cat.slug}`}
         class="group flex flex-col md:flex-row items-center p-4 bg-white dark:bg-gray-800 rounded-xl 
                border border-gray-200 dark:border-gray-700 shadow-sm 
                hover:shadow-md hover:border-blue-500/30 dark:hover:border-blue-400/30 
                transition-all duration-200 cursor-pointer relative overflow-hidden">
        
        <div class="absolute inset-0 bg-gray-50 dark:bg-gray-700/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200"></div>

        <div class={`w-12 h-12 rounded-xl flex items-center justify-center text-2xl mb-3 md:mb-0 md:mr-4 relative z-10 
                    ${cat.color} ${cat.text}`}>
          <i class={`fa-solid ${cat.icon}`}></i>
        </div>

        <div class="flex-1 w-full md:w-auto relative z-10 text-center md:text-left">
          <span class="block font-bold text-gray-700 dark:text-gray-200 
                       group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
            {cat.name}
          </span>
          
          <span class="text-[10px] text-gray-400 block mt-0.5 group-hover:text-gray-500 transition-colors">
            {cat.slug === 'rekomendasi' ? 'Spesial buat kamu' : 'Lihat semua produk'}
          </span>
        </div>

        <i class="fa-solid fa-chevron-right ml-auto text-gray-300 dark:text-gray-600 text-xs 
                  group-hover:text-blue-500 dark:group-hover:text-blue-400 
                  hidden md:block relative z-10">
        </i>
      </a>
    ))}
  </div>
</section>